<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        ul[role="toolbar"] {
            list-style-type: none;
            padding: 0;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown button {
            padding: 10px;
            background-color: #e74c3c; /* Red color */
            color: #fff; /* White text color */
            border: 2px solid #c0392b; /* Border color */
            cursor: pointer;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown-content button {
            display: block;
            width: 400px;
            padding: 10px;
            border: none;
            background-color: #f9f9f9;
            color: #333;
            text-align: left;
        }

        .dropdown-content textarea {
            width: calc(100% - 24px); /* Adjusted width to accommodate the icon */
            padding: 10px;
            border: none;
            background-color: #f9f9f9;
            color: #333;
            resize: none;
            margin-top: 24px; /* Margin added to create space for the icon */
        }

        .icon-at-top {
            position: absolute;
            top: 0;
            right: 0;
            margin: 12px;
            color: #3498db; /* Blue color */
            cursor: pointer;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        textarea {
            width: 60%;
            height: 100px;
            margin-bottom: 10px;
            background-color: #E9E9EB;
            border: 2px solid #c0392b; /* Border color */
        }

        #outputTextarea {
            width: 60%;
            height: 200px;
            margin-top: 20px;
        }

        /* Added style for the Clear button */
        button {
            background-color: #2ecc71;
            color: #fff;
            padding: 10px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 4px; /* Optional: Add rounded corners */
        }

        .button {
            display: inline-block;
            padding: 10px 20px; /* Adjust padding to fit your design */
            background-color: #007bff; /* Button background color */
            color: #fff; /* Button text color */
            text-decoration: none; /* Remove underline */
            border: none; /* Remove border */
            border-radius: 4px; /* Optional: Add rounded corners */
            margin-left: 30px;
        }

        .content2 {
            margin-top: 10px;
            text-align: center; /* Center align content */
        }

        /* Dark mode styles */
        body.night-mode {
            background-color: #121212;
            color: #ffffff;
        }

        .dropdown-content button.night-mode {
            background-color: #333333;
            color: #ffffff;
        }

        .dropdown-content textarea.night-mode {
            background-color: #333333;
            color: #ffffff;
        }

        textarea.night-mode {
            background-color: #333333;
            color: #ffffff;
        }

        .button.night-mode {
            background-color: #1e1e1e;
        }
    </style>
    <title>Styled Dropdown Buttons with Text Areas</title>
</head>
<body>
<div class="content2">
<ul role="toolbar">
    <li class="dropdown">
        <button aria-setsize="4" aria-posinset="1">Down</button>
        <div class="dropdown-content">
            <button onclick="selectOption('down')">down</button>
            <button onclick="selectOption('stillDown')">Still Down</button>
            <button onclick="selectOption('connect')">can't connect</button>
            <button onclick="selectOption('ssh')">via ssh</button>
            <button onclick="selectOption('password')">reset password</button>
        </div>
    </li>

    <li class="dropdown">
        <button aria-setsize="4" aria-posinset="2">RDNS</button>
        <div class="dropdown-content">
            <button onclick="selectOption('S1')">RDNS s1</button>
            <button onclick="selectOption('S2')">RDNS s2</button>
            <button onclick="selectOption('S3')">Remove RDNS</button>
        </div>
    </li>

    <li class="dropdown">
        <button aria-setsize="4" aria-posinset="3">IPs not working</button>
        <div class="dropdown-content">
            <button onclick="selectOption('ips')">Additional IPs not working </button>
            <button onclick="selectOption('ips2')">Additional IPs not working</button>
        </div>
    </li>

    <li class="dropdown">
        <button aria-setsize="4" aria-posinset="4">Allow port 25</button>
        <div class="dropdown-content">
            <button onclick="selectOption('allow1')">Allow port 25</button>
            <button onclick="selectOption('allow2')">Allow port 25_</button>
        </div>
    </li>
     <li class="dropdown">
        <button aria-setsize="4" aria-posinset="4">Delisting Request </button>
        <div class="dropdown-content">
            <button onclick="selectOption('SBL')">From SBL</button>  
            <button onclick="selectOption('PBL')">From PBL </button>
        </div>
    </li>
     <li class="dropdown">
        <button aria-setsize="4" aria-posinset="4">Speed issue	 </button>
        <div class="dropdown-content">
            <button onclick="selectOption('Speed1')">upgrade Speed</button>  
            <button onclick="selectOption('Speed3')">upgrade Speed_ </button>
            <button onclick="selectOption('Speed2')">upgrade Speed more </button>
            <button onclick="selectOption('unstable')">Connection is unstable</button>
        </div>
    </li>
</ul>
<textarea id="pingInput" placeholder="Enter the content here"></textarea><br><br>
<i style="margin-left: 10px; background-color: ##1C0E0E ; color: #fff; " class="fas fa-copy copy-icon" onclick="copyToClipboard()"></i>
<a href="https://itryio.com/ticket/create" class="button" target="_blank">Open Ticket</a>
<button onclick="clearFields()"><i class="fas fa-broom"></i> Clear the content</button>
<!-- Icon added to the top of the outputTextarea -->
<br>
<textarea id="outputTextarea" placeholder="Results will be displayed here" readonly></textarea>
</div>
<i style="background-color: rgb(251, 255, 0);" class="fas fa-info-circle icon-at-top" title="
1. Enter your content in the first text area.
2. Select an option from the dropdown menu.
3. Click the Copy to Clipboard button to copy your results.
4. then Click Open Ticket " 
></i>

<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
<script>
function selectOption(option) {
        const pingInput = document.getElementById('pingInput').value;
        const outputTextarea = document.getElementById('outputTextarea');

        // Helper function to check if the message is already present
        function isMessagePresent(message) {
            return outputTextarea.value.includes(message);
        }
        if (option === 'down') {
            outputTextarea.value = `Hello,\nThis server is down, please try to fix it asap.\n\n${pingInput}\n\nThanks.`;
        } else if (option === 'stillDown') {
            document.getElementById("outputTextarea").value = "";
            const stillDownMessage = `Hello,\nthis server still down until now, Check it again please,\n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(stillDownMessage)) {
                outputTextarea.value = `${stillDownMessage}\n\n${outputTextarea.value}`;
            }
        } 
        
        else if (option === 'password') {
            document.getElementById("outputTextarea").value = "";
            const passwordDownMessage = `Hello \n\nPlease provide the correct root password. \n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(passwordDownMessage)) {
                outputTextarea.value = `${passwordDownMessage}\n\n${outputTextarea.value}`;
            }
        } 
        
        else if (option === 'password') {
            document.getElementById("outputTextarea").value = "";
            const passwordDownMessage = `Hi, \n\nPlease provide the correct root password. \n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(passwordDownMessage)) {
                outputTextarea.value = `${passwordDownMessage}\n\n${outputTextarea.value}`;
            }
        } 
        
        else if (option === 'ssh') {
            document.getElementById("outputTextarea").value = "";
            const ssh= `Hello, \n\nWe can't access this server via ssh, please fix it asap. \n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(ssh)) {
                outputTextarea.value = `${ssh}\n\n${outputTextarea.value}`;
            }
        }
                else if (option === 'unstable') {
            document.getElementById("outputTextarea").value = "";
            const unstable= `Hello, \nConnection is unstable. please check and fix it ASAP. \n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(unstable)) {
                outputTextarea.value = `${unstable}\n\n${outputTextarea.value}`;
            }
        }
        
        else if (option === 'connect') {
            document.getElementById("outputTextarea").value = "";
            const connect= `Hello, \n\nWe can't connect to this server, please try to fix it asap. \n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(connect)) {
                outputTextarea.value = `${connect}\n\n${outputTextarea.value}`;
            }
        }
        
        else if (option === 'password') {
            document.getElementById("outputTextarea").value = "";
            const passwordDownMessage = `Hi, \n\nPlease provide the correct root password. \n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(passwordDownMessage)) {
                outputTextarea.value = `${passwordDownMessage}\n\n${outputTextarea.value}`;
            }
        } 
        else if (option === 'S1') {
            outputTextarea.value = `Hello,\nPlease change the following RDNS :\n\n${pingInput}\n\nThanks in advance`;
        } else if (option === 'S2') {
            document.getElementById("outputTextarea").value = "";
            const RDNS = `Hi,\nPlease update rDNS\n\n${pingInput}\n\nThanks in advance.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(RDNS)) {
                outputTextarea.value = `${RDNS}\n\n${outputTextarea.value}`;
            }
        }
        else if (option === 'S3') {
            document.getElementById("outputTextarea").value = "";
            const S3= `Hello, \nPlease remove all rDNS records.\n\n${pingInput}\n\nThanks in advance.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(S3)) {
                outputTextarea.value = `${S3}\n\n${outputTextarea.value}`;
            }
        }
        if (option === 'ips') {
            outputTextarea.value = `Hello,\nPlease check these additional ips, they are not working.\n\-----\n\n${pingInput}\n\nThanks.`;
        } else if (option === 'ips2') {
            document.getElementById("outputTextarea").value = "";
            const ips2= `Hello, \nplease check the following additional ips,they are not working.\n-----\n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(ips2)) {
                outputTextarea.value = `${ips2}\n\n${outputTextarea.value}`;
            }
        }
                if (option === 'allow1') {
            outputTextarea.value = `Hello,\nplease we need you to allow port25 for in/out traffic for this server\n-----\n\n${pingInput}\n\nThanks.`;
        } else if (option === 'allow2') {
            document.getElementById("outputTextarea").value = "";
            const allow2= `Hi, \nPlease Allow Port25 for outgoing traffic for all ips for this server :\n-----\n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(allow2)) {
                outputTextarea.value = `${allow2}\n\n${outputTextarea.value}`;
            }
        }
             if (option === 'SBL') {
            outputTextarea.value = `Hi,\nplease we need you to delist this range from SBL\n-----\n\n${pingInput}\n\nThanks.`;
        } else if (option === 'PBL') {
            document.getElementById("outputTextarea").value = "";
            const PBL= `Hi, \nplease we need you to delist the following IPs from PBL\n-----\n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(PBL)) {
                outputTextarea.value = `${PBL}\n\n${outputTextarea.value}`;
            }
        }
                     if (option === 'Speed1') {
            outputTextarea.value = `Hi,\nplease we need you to upgrade the Download/upload speed of this server.\n-----\n\n${pingInput}\n\nThanks.`;
        } else if (option === 'Speed2') {
            document.getElementById("outputTextarea").value = "";
            const Speed2= `Hi, \nStill we have the same issue, we need you to upgrade the Download/upload speed of this server more, it's very slow\n-----\n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(Speed2)) {
                outputTextarea.value = `${Speed2}\n\n${outputTextarea.value}`;
            }
        }
        else if (option === 'Speed3') {
            document.getElementById("outputTextarea").value = "";
            const Speed3= `Hello, \nPlease upgrade the network speed of this server , It's very slow :\n-----\n\n${pingInput}\n\nThanks.`;

            // Check if the message is already present before appending
            if (!isMessagePresent(Speed3)) {
                outputTextarea.value = `${Speed3}\n\n${outputTextarea.value}`;
            }
        }
        
    }

    function clearFields() {
        document.getElementById("pingInput").value = "";
        document.getElementById("outputTextarea").value = "";
    }
    function copyToClipboard() {
        const outputTextarea = document.getElementById('outputTextarea');
        outputTextarea.select();
        document.execCommand('copy');
    }

    // Apply night mode on page load if enabled
    window.onload = function() {
        if (localStorage.getItem('nightMode') === 'enabled') {
            document.body.classList.add('night-mode');
            document.querySelectorAll('.dropdown-content button').forEach(item => {
                item.classList.add('night-mode');
            });
            document.querySelectorAll('textarea').forEach(item => {
                item.classList.add('night-mode');
            });
            document.querySelectorAll('.button').forEach(item => {
                item.classList.add('night-mode');
            });
        }
    }
</script>
</body>
</html>
