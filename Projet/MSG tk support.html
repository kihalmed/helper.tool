<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Support Ticket Helper</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
 :root {
      --bg: #0f1724;
      --card: #0b1220;
      --muted: #9aa6bf;
      --accent: #7c5cff;
      --accent-dark: #5b3ffd;
      --hover: #275BF5;
      --text: #e6eef8;
      --border: rgba(255,255,255,0.03);
      --shadow: rgba(2,6,23,0.6);
    }

    :root.light-mode {
      --bg: #f5f7fa;
      --card: #ffffff;
      --muted: #6b7280;
      --accent: #7c5cff;
      --accent-dark: #6846ff;
      --hover: #8e6eff;
      --text: #1f2937;
      --border: rgba(0,0,0,0.08);
      --shadow: rgba(0,0,0,0.1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      padding: 36px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .content2 {
      width: 100%;
      max-width: 980px;
      background: var(--card);
      border-radius: 14px;
      padding: 20px;
      box-shadow: 0 8px 30px var(--shadow);
      border: 1px solid var(--border);
      position: relative;
      transition: background 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
    }

    ul[role="toolbar"] {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      list-style: none;
      margin-bottom: 20px;
    }

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown > button {
      background: linear-gradient(180deg, var(--accent), var(--accent-dark));
      color: #fff;
      padding: 8px 12px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: opacity 0.2s ease;
    }

    .dropdown > button:hover {
      opacity: 0.9;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--accent-dark);
      border-radius: 10px;
      overflow: hidden;
      min-width: 160px;
      z-index: 10;
      border: none;
      padding: 0;
      margin-top: 0;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
    }

    .dropdown-content button {
      background: var(--accent-dark);
      border: none;
      color: #ffffff;
      width: 100%;
      padding: 12px 16px;
      text-align: left;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.2s ease;
      display: block;
      border-radius: 0;
      outline: none;
    }

    .dropdown-content button:hover {
      background-color: var(--hover);
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    textarea {
      width: 100%;
      min-height: 120px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.03));
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 14px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size: 13px;
      color: var(--text);
      resize: vertical;
      margin-top: 14px;
      transition: background 0.3s ease, color 0.3s ease;
    }

    #outputTextarea {
      min-height: 200px;
      margin-top: 20px;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 14px 0;
      align-items: center;
    }

    button,
    a.button {
      background: linear-gradient(180deg, var(--accent), var(--accent-dark));
      border: 0;
      color: white;
      padding: 8px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: opacity 0.2s ease;
    }

    button:hover,
    a.button:hover {
      opacity: 0.9;
    }

    .icon-at-top {
      position: absolute;
      top: 20px;
      right: 20px;
      color: #facc15;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <div class="content2">
    <ul role="toolbar">
      <li class="dropdown">
        <button>Down</button>
        <div class="dropdown-content">
          <button onclick="selectOption('down')">down</button>
          <button onclick="selectOption('stillDown')">Still Down</button>
          <button onclick="selectOption('connect')">can't connect</button>
          <button onclick="selectOption('ssh')">via ssh</button>
          <button onclick="selectOption('password')">reset password</button>
          <button onclick="selectOption('ipv6')">Add ipv6</button>
        </div>
      </li>

      <li class="dropdown">
        <button>RDNS</button>
        <div class="dropdown-content">
          <button onclick="selectOption('S1')">RDNS s1</button>
          <button onclick="selectOption('S2')">RDNS s2</button>
		  <button onclick="selectOption('S4')">Default rDNS</button>
          <button onclick="selectOption('S3')">Remove RDNS</button
		  
        </div>
      </li>

      <li class="dropdown">
        <button>IPs not working</button>
        <div class="dropdown-content">
          <button onclick="selectOption('ips')">Additional IPs not working</button>
          <button onclick="selectOption('ips2')">Additional IPs not working</button>
		   <button onclick="selectOption('ips3')">IP not working</button>
        </div>
      </li>

      <li class="dropdown">
        <button>Allow port 25</button>
        <div class="dropdown-content">
          <button onclick="selectOption('allow1')">Allow port 25</button>
          <button onclick="selectOption('allow2')">Allow port 25_</button>
        </div>
      </li>

      <li class="dropdown">
        <button>Delisting Request</button>
        <div class="dropdown-content">
          <button onclick="selectOption('SBL')">From SBL</button>
          <button onclick="selectOption('PBL')">From PBL</button>
        </div>
      </li>

      <li class="dropdown">
        <button>Speed issue</button>
        <div class="dropdown-content">
          <button onclick="selectOption('Speed1')">upgrade Speed</button>
          <button onclick="selectOption('Speed3')">upgrade Speed_</button>
          <button onclick="selectOption('Speed2')">upgrade Speed more</button>
          <button onclick="selectOption('unstable')">Connection is unstable</button>
        </div>
      </li>
    </ul>

    <textarea id="pingInput" placeholder="Enter the content here"></textarea>

    <div class="controls">
      <button onclick="copyToClipboard()"><i class="fas fa-copy"></i> Copy</button>
      <a href="https://itryio.com/ticket/create" class="button" target="_blank"><i class="fas fa-external-link-alt"></i> Open Ticket</a>
      <button onclick="clearFields()"><i class="fas fa-broom"></i> Clear</button>
    </div>

    <textarea id="outputTextarea" placeholder="Results will be displayed here" readonly></textarea>

    <i class="fas fa-info-circle icon-at-top" title="1. Enter your content in the first text area.
2. Select an option from the dropdown menu.
3. Click the Copy button to copy your results.
4. Then Click Open Ticket"></i>
  </div>

  <script>
    function selectOption(option) {
      const pingInput = document.getElementById('pingInput').value;
      const outputTextarea = document.getElementById('outputTextarea');

      const templates = {
        down: `Hello,\nThis server is down, please try to fix it asap.\n\n${pingInput}\n\nThanks.`,
        stillDown: `Hello,\nthis server still down until now, Check it again please,\n\n${pingInput}\n\nThanks.`,
        connect: `Hello, \n\nWe can't connect to this server, please try to fix it asap. \n\n${pingInput}\n\nThanks.`,
        ssh: `Hello, \n\nWe can't access this server via ssh, please fix it asap. \n\n${pingInput}\n\nThanks.`,
        password: `Hello \n\nPlease provide the correct root password. \n\n${pingInput}\n\nThanks.`,
        ipv6: `Hello, \n\nplease we need you to add ipv6 /64 to This server \n\n${pingInput}\n\nThanks.`,
        unstable: `Hello, \nConnection is unstable. please check and fix it ASAP. \n\n${pingInput}\n\nThanks.`,
        S1: `Hello,\nPlease change the following RDNS :\n\n${pingInput}\n\nThanks in advance.`,
        S2: `Hi,\nPlease update rDNS\n\n${pingInput}\n\nThanks in advance.`,
        S3: `Hello, \nPlease remove all rDNS records.\n\n${pingInput}\n\nThanks in advance.`,
        ips: `Hello,\nPlease check these additional ips, they are not working.\n-----\n\n${pingInput}\n\nThanks.`,
        ips2: `Hello, \nplease check the following additional ips,they are not working.\n-----\n\n${pingInput}\n\nThanks.`,
        allow1: `Hello,\nplease we need you to allow port25 for in/out traffic for this server\n-----\n\n${pingInput}\n\nThanks.`,
        allow2: `Hi, \nPlease Allow Port25 for outgoing traffic for all ips for this server :\n-----\n\n${pingInput}\n\nThanks.`,
        SBL: `Hi,\nplease we need you to delist this range from SBL\n-----\n\n${pingInput}\n\nThanks.`,
        PBL: `Hi, \nplease we need you to delist the following IPs from PBL\n-----\n\n${pingInput}\n\nThanks.`,
        Speed1: `Hi,\nplease we need you to upgrade the Download/upload speed of this server.\n-----\n\n${pingInput}\n\nThanks.`,
        Speed2: `Hi, \nStill we have the same issue, we need you to upgrade the Download/upload speed of this server more, it's very slow\n-----\n\n${pingInput}\n\nThanks.`,
        Speed3: `Hello, \nPlease upgrade the network speed of this server , It's very slow :\n-----\n\n${pingInput}\n\nThanks.`
      };

      outputTextarea.value = templates[option] || "";
    }

    function clearFields() {
      document.getElementById("pingInput").value = "";
      document.getElementById("outputTextarea").value = "";
    }

    function copyToClipboard() {
      const outputTextarea = document.getElementById('outputTextarea');
      outputTextarea.select();
      document.execCommand('copy');
    }
	
	 // Generate templates
  function selectOption(option) {
    const pingInput = document.getElementById('pingInput').value;
    const outputTextarea = document.getElementById('outputTextarea');
      const templates = {
        down: `Hello,\nThis server is down, please try to fix it asap.\n\n${pingInput}\n\nThanks.`,
        stillDown: `Hello,\nthis server still down until now, Check it again please,\n\n${pingInput}\n\nThanks.`,
        connect: `Hello, \n\nWe can't connect to this server, please try to fix it asap. \n\n${pingInput}\n\nThanks.`,
        ssh: `Hello, \n\nWe can't access this server via ssh, please fix it asap. \n\n${pingInput}\n\nThanks.`,
        password: `Hello \n\nPlease provide the correct root password. \n\n${pingInput}\n\nThanks.`,
        ipv6: `Hello, \n\nplease we need you to add ipv6 /64 to This server \n\n${pingInput}\n\nThanks.`,
        unstable: `Hello, \nConnection is unstable. please check and fix it ASAP. \n\n${pingInput}\n\nThanks.`,
        S1: `Hello,\nPlease change the following RDNS :\n\n${pingInput}\n\nThanks in advance.`,
        S2: `Hi,\nPlease update rDNS\n\n${pingInput}\n\nThanks in advance.`,
        S3: `Hello, \nPlease remove all rDNS records.\n\n${pingInput}\n\nThanks in advance.`,
		S4: `Hello, \nPlease we need you to add default rDNS [rdns provider].\n\n${pingInput}\n\nThanks in advance.`,
        ips: `Hello,\nPlease check these additional ips, they are not working.\n-----\n\n${pingInput}\n\nThanks.`,
        ips2: `Hello, \nplease check the following additional ips,they are not working.\n-----\n\n${pingInput}\n\nThanks.`,
        ips3: `Hello, \nPlease check this additional ip, it's not working.\n-----\n\n${pingInput}\n\nThanks.`,
        allow1: `Hello,\nplease we need you to allow port25 for in/out traffic for this server\n-----\n\n${pingInput}\n\nThanks.`,
        allow2: `Hi, \nPlease Allow Port25 for outgoing traffic for all ips for this server :\n-----\n\n${pingInput}\n\nThanks.`,
        SBL: `Hi,\nplease we need you to delist this range from SBL\n-----\n\n${pingInput}\n\nThanks.`,
        PBL: `Hi, \nplease we need you to delist the following IPs from PBL\n-----\n\n${pingInput}\n\nThanks.`,
        Speed1: `Hi,\nplease we need you to upgrade the Download/upload speed of this server.\n-----\n\n${pingInput}\n\nThanks.`,
        Speed2: `Hi, \nStill we have the same issue, we need you to upgrade the Download/upload speed of this server more, it's very slow\n-----\n\n${pingInput}\n\nThanks.`,
        Speed3: `Hello, \nPlease upgrade the network speed of this server , It's very slow :\n-----\n\n${pingInput}\n\nThanks.`
    };
    outputTextarea.value = templates[option] || "";
  }

  function clearFields() {
    document.getElementById("pingInput").value = "";
    document.getElementById("outputTextarea").value = "";
  }

  function copyToClipboard() {
    const outputTextarea = document.getElementById('outputTextarea');
    outputTextarea.select();
    document.execCommand('copy');
  }

  // Function to apply theme
  function applyTheme(theme) {
    if (theme === 'light') {
      document.documentElement.classList.add('light-mode');
    } else {
      document.documentElement.classList.remove('light-mode');
    }
  }

  // Check parent window theme immediately on load
  function checkParentTheme() {
    try {
      // Try to access parent's theme
      if (window.parent && window.parent !== window) {
        const parentHasLightMode = window.parent.document.body.classList.contains('light-mode');
        applyTheme(parentHasLightMode ? 'light' : 'dark');
        return true;
      }
    } catch (e) {
      // If cross-origin, fall back to localStorage
      const savedTheme = localStorage.getItem('theme') || 'dark';
      applyTheme(savedTheme);
      return false;
    }
  }

  // Apply theme immediately when page loads
  checkParentTheme();

  // Listen for theme messages from parent
  window.addEventListener('message', (event) => {
    if (event.data && event.data.theme) {
      applyTheme(event.data.theme);
      localStorage.setItem('theme', event.data.theme);
    }
  });

  // Continuous polling to always stay in sync with parent
  setInterval(() => {
    checkParentTheme();
  }, 200);

  // Re-check theme when window regains focus (user comes back to tab)
  window.addEventListener('focus', () => {
    checkParentTheme();
  });

  // Re-check theme when page becomes visible again
  document.addEventListener('visibilitychange', () => {
    if (!document.hidden) {
      checkParentTheme();
    }
  });

  // Re-check when mouse enters the iframe
  window.addEventListener('mouseenter', () => {
    checkParentTheme();
  });

  // Re-check on any user interaction
  window.addEventListener('click', () => {
    checkParentTheme();
  });
  </script>
</body>
</html>



